(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(8206)}])},8206:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return u},default:function(){return m}});var a=s(5893),l=s(2160),n=s(1163),i=s(7294);let r=e=>{let{fleets:t}=e,s=(0,n.useRouter)(),l=e=>{s.push("/fleet/".concat(e))};return(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,a.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 mt-4",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{className:"grid grid-cols-10 gap-4 text-center",children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3  text-xs font-medium text-gray-500 uppercase tracking-wider col-span-2",children:"Fleet ID"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3  text-xs font-medium text-gray-500 uppercase tracking-wider ",children:"Type"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3  text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3  text-xs font-medium text-gray-500 uppercase tracking-wider ",children:"State"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3  text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Instance count(on demand)"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3  text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Instance count(spot)"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3  text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Allocation strategy(on demand)"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3  text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Allocation strategy(spot)"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3  text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tags"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200 ",children:(null==t?void 0:t.length)>0?null==t?void 0:t.map(e=>{var s;return(0,a.jsxs)("tr",{className:"grid grid-cols-10  gap-4 text-center cursor-pointer items-center hover:bg-gray-100",onClick:()=>l(e.FleetId),children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap col-span-2",children:e.FleetId}),(0,a.jsx)("td",{className:"px-6  py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-200 text-green-800",children:e.Type})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-200 text-green-800",children:e.ActivityStatus})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-green-800",children:e.FleetState})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.TargetCapacitySpecification.OnDemandTargetCapacity}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.TargetCapacitySpecification.SpotTargetCapacity}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.OnDemandOptions.AllocationStrategy}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.SpotOptions.AllocationStrategy}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:null==e?void 0:null===(s=e.Tags)||void 0===s?void 0:s.map(e=>(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-green-800",children:(0,a.jsxs)("span",{children:[e.Key," : ",e.Value]})},e.Key))})]},t.FleetId)}):(0,a.jsx)("tr",{className:"grid grid-cols-1 gap-4 text-center",children:(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap ",children:"No fleets found"})})})]})})})})})};var c=s(9542),o=s(9688);let d=e=>{let{setShowModal:t,setSelectedRegion:s,selectedRegion:l}=e,[n,r]=(0,i.useState)([]),c=(0,i.useRef)(!0);return(0,i.useEffect)(()=>{c.current&&e();async function e(){c.current=!1;try{let e=await fetch("https://ip-ranges.amazonaws.com/ip-ranges.json"),t=await e.json(),s=null==t?void 0:t.prefixes.filter(e=>""!==e.region).map(e=>e.region).filter((e,t,s)=>s.indexOf(e)===t);r(s.map(e=>({value:e,label:e})))}catch(e){console.error(e)}}},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,a.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:(0,a.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-slate-200 rounded-t",children:[(0,a.jsx)("h3",{className:"text-3xl font-semibold",children:"Select Region"}),(0,a.jsx)("button",{className:"p-1 bg-transparent border-0 text-black ml-16 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>t(!1),children:(0,a.jsx)("span",{className:"bg-transparent text-black  h-6 w-6 text-2xl block outline-none focus:outline-none",children:"X"})})]}),(0,a.jsx)("div",{className:"relative p-6 flex-auto ",children:(0,a.jsx)(o.ZP,{className:" w-full h-14 ",placeholder:"Select Region",options:n,onChange:e=>{localStorage.setItem("region",e.value),s(e.value),t(!1)}})})]})})}),(0,a.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]})};var x=s(8705),p=s(2920),u=!0;function m(e){let[t,s]=(0,i.useState)([]),[n,o]=(0,i.useState)(!0),[u,m]=(0,i.useState)(!0),[g,h]=(0,i.useState)(""),f=async()=>{o(!0),s([]);let t=await (0,l.ul)(g,e.url);if(o(!1),200!==t.status){var a;p.Am.error((null===(a=t.data)||void 0===a?void 0:a.message)||"Something went wrong!");return}s(t.data)};return(0,i.useEffect)(()=>{o(!0),g&&f()},[g]),(0,i.useEffect)(()=>{g&&m(!1)},[g]),(0,i.useEffect)(()=>{let e=localStorage.getItem("region");e&&(h(e),m(!1))},[]),(0,a.jsxs)(x.Z,{props:e,children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h1",{className:"text-2xl",onClick:f,children:"Fleets List"}),!u&&(0,a.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:()=>m(!0),children:"Select Region"})]}),n?(0,a.jsx)(c.Z,{}):(null==t?void 0:t.length)!==0?(0,a.jsx)(r,{fleets:t}):(0,a.jsxs)("p",{children:["No fleets found in the region ",g]}),u&&(0,a.jsx)(d,{setShowModal:m,selectedRegion:g,setSelectedRegion:h})]})}}},function(e){e.O(0,[455,688,744,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);